{"code":"//todo block//\n\n//todo add, remove, select, mover, copy\n\n//ability to hide show code\n\n//store font and blocks in indexed db\n\n//for reorder need custom script, for access field via x.api() app blocks\n\n//todo переделать на base64 загрузку файлов\n\n//todo show names of blocks or just show some icon of block (minecraft)\n\n//implement send messages to future blocks\n//the same future message can be sended to not inited script blocks\n//todo editor for styles\n//todo elements can be loaded on backend\n//todo defence agains destroy element with div.prepend(block)\n\nconst { x } = $\n\nconst head = document.getElementsByTagName('head')[0]\n\nconst darkTheme = `\nbody {\n    background: #a6ab8c;\n    color: #9ae173;\n}\n`\nconst lightTheme = `\nbody {\n    background: #CBD2A4;\n    color: #0a0a0a;\n}\n`\n\nlet style = document.createElement('style')\nstyle.innerHTML = `\n\nhtml {\n  font-size: 100%;\n  text-size-adjust: 100%;\n  -webkit-text-size-adjust: 100%;\n  -moz-text-size-adjust: 100%;\n}\nbody {\n    font-variant-ligatures: none;\n    background: #bcc8b2;\n    font-size: 1rem;\n}\n.block {\n    display: inline-block;\n    vertical-align: top;\n    margin: 3px;\n    padding: 10px;\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1), \n              0 6px 20px rgba(0, 0, 0, 0.1);\n    transition: box-shadow 0.3s ease;\n    background: rgb(236, 231, 218);\n}\n.block-code {\n    margin: 0;\n    font-family: 'JetBrains Mono';\n    font-size: 13px;\n    outline: none;\n}\n.btn {\n    padding: 1px 2px;\n    font-family: monospace;\n    font-size: 0.9rem;\n    border: 2px solid black;\n    border-radius: 4px;\n}\n.btn:hover {\n    background: black;\n    color: white;\n    border: 2px solid black;\n    cursor: pointer;\n}\n.hidden { display:none; }\n`\n\nhead.append(style)\n\n//fonts load\nlet fontBlob = await x.p('get', { repo: 'idb', id: 'fontJetBrainsMono' })\nif (!fontBlob) {\n    fontBlob = await (await fetch('/assets/font/jetbrains-medium.woff2')).blob()\n    await x.p('set', { repo: 'idb', id: 'fontJetBrainsMono', v: fontBlob })\n}\nconst jetBrainsMonoUrl = URL.createObjectURL(fontBlob)\nconst robotoUrl = `https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap`\n\nstyle = document.createElement('style')\nstyle.innerHTML = `\n  @import url(${robotoUrl});\n  @font-face {\n    font-family: 'JetBrains Mono';\n    src: url(${jetBrainsMonoUrl}) format('woff2');\n    font-weight: normal;\n    font-style: normal;\n    font-variant-ligatures: none;\n  }\n`\nhead.append(style)\n","id":"01JAB7A37DGN99ANRFWSVH644R"}