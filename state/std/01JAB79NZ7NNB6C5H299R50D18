{"code":"\nconst { x, sysId, domId } = $\n\nconst state = await x.p('getBlock', { id: sysId })\nconst block = await x.p('getDomById', { id: domId })\nawait x.p('codeShowCtrl', {\n    in: { blockDom: block, target: block, state }\n})\nawait x.p('blockName', {\n    in: { target: block, name: 'trigger' }\n})\n\n\n//const div = document.createElement('div')\n\n//add btn for generator\n\nreturn\n\n  const selfId = document.currentScript.getAttribute('self-id')\n  const self = document.getElementById(selfId)\n\n  const props = self.getElementsByClassName('props')\n  if (props.length > 0) {\n      console.log(props)\n  }\n\n  self.addEventListener('getProps', (e) => {\n    console.log('getProps');\n  });\n\n  const view = document.createElement('div')\n  view.className = 'view'\n  self.append(view)\n\n  const target = document.createElement('input')\n  target.className = 'targetInput'\n  view.append(target)\n\n  const btn = document.createElement('div')\n  btn.innerText = 'trigger'\n  btn.style.border = '1px solid'\n  btn.style.width = 'fit-content'\n  btn.style.cursor = 'pointer'\n  btn.addEventListener('click', (e) => {\n      const data = { name: 'cat' }\n      const event = new CustomEvent('trigger', { detail: data});\n\n      const el = document.getElementById(target.value)\n      if (!el) return;\n      el.dispatchEvent(event);\n  })\n\n  view.append(btn)\n\n","id":"01JAB79NZ7NNB6C5H299R50D18","showCode":true}