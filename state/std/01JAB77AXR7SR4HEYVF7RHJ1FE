{"code":"\nconst { x, sysId, domId } = $\n\nawait x.s('codeShowCtrl', async (x) => {\n    if (x.in) {\n        const { blockDom, target, state, forceShow } = x.in\n        const blockCode = blockDom.getElementsByClassName('block-code')[0]                \n\n        const btn = document.createElement('span')\n        target.append(btn)\n        btn.className = 'btn'\n        btn.innerText = 'code'\n        btn.style.fontFamily = 'Roboto, sans-serif'\n        if (!state || !state.showCode) {\n            blockCode.classList.add('hidden')\n        }\n        if (forceShow) {\n            blockCode.classList.remove('hidden')\n        }\n        btn.addEventListener('pointerdown', async (e) => {\n            if (state && state.showCode) {\n                delete state.showCode\n                blockCode.classList.add('hidden')\n            } else {\n                state.showCode = true\n                blockCode.classList.remove('hidden')\n            }\n        })\n    }\n})\n\nconst state = await x.p('getBlock', { id: sysId })\nconst block = await x.p('getDomById', { id: domId })\nawait x.p('codeShowCtrl', {\n    in: { blockDom: block, target: block, state }\n})\nawait x.p('blockName', {\n    in: { target: block, name: 'codeShowCtrl' }\n})","id":"01JAB77AXR7SR4HEYVF7RHJ1FE","showCode":true}